<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" type="image/x-icon" href="images/favicon.png">
  <title>Online Fashion</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/custom.css">
  <link rel="stylesheet" href="css/checkout.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
</head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg shadow">
    <div class="container position-relative">
      <a class="navbar-brand" href="#">
        <img src="images/logo.svg" alt="logo">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="icons d-flex align-items-center">
        <a href="cart.html" class="topRightIcon text-decoration-none">
          <i class="bi bi-cart fs-5"></i><span id="cartCount">0</span>
        </a>
        <a href="wishlist.html" class="topRightIcon text-decoration-none">
          <i class="bi bi-heart fs-5"></i><span id="wishlistCount">0</span>
        </a>
      </div>
      <div class="collapse navbar-collapse justify-content-center" id="navbarContent">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#">About Us</a></li>
          <li class="nav-item"><a class="nav-link" href="shop.html">Shop</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Blog</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Contact Us</a></li>
        </ul>
      </div>
    </div>
  </nav>
  
  <!-- Hero Section -->
  <section class="inner-hero d-flex align-items-center text-center">
    <div class="container">
      <h1 class="page-title">Checkout</h1>
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb justify-content-center">
          <li class="breadcrumb-item"><a href="shop.html">Shop</a></li>
          <li class="breadcrumb-item active" aria-current="page">Checkout</li>
        </ol>
      </nav>
    </div>
  </section>

  <div class="container my-5">
    <h2 class="mb-1">Complete Your Order Today</h2>
    <p class="mb-4 text-muted">Act now so you don’t miss out on this offer.</p>
    
    <div class="row justify-content-between">
      <!-- Right Column: Order Summary -->
      <div class="col-md-4 order-md-2 bg-light">
        <div class="summary-box">
          <h5 class="mb-3">Order Summary</h5>
          <div id="orderSummary"></div>
          <hr>
          <div class="summary-item"><span>Price:</span><span id="productsPrice">$0.00</span></div>
          <div class="summary-item"><span>Shipping:</span><span>$0.00</span></div>
          <hr>
          <div class="summary-item summary-total"><span>Total:</span><span id="grandTotal">$0.00</span></div>
        </div>
      </div>

      <!-- Left Column -->
      <div class="col-md-7 order-md-1">
        <h5 class="mb-4">Shipping Information</h5>
        <form id="checkoutForm">
          <div class="row mb-3">
            <div class="col">
              <input type="text" class="form-control" placeholder="First Name" required>
            </div>
            <div class="col">
              <input type="text" class="form-control" placeholder="Last Name" required>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <input type="email" class="form-control" placeholder="Email Address" required>
            </div>
            <div class="col">
              <input type="tel" class="form-control" placeholder="Phone" required>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <input type="text" class="form-control" placeholder="Your Address" required>
            </div>
            <div class="col">
              <input type="text" class="form-control" placeholder="Your City" required>
            </div>
          </div>
          <div class="row mb-4">
            <div class="col-md-4">
              <select class="form-select" required>
                <option selected disabled>Country</option>
                <option>USA</option>
                <option>UK</option>
              </select>
            </div>
            <div class="col-md-4">
              <select class="form-select" required>
                <option selected disabled>Select State</option>
                <option>California</option>
                <option>Texas</option>
              </select>
            </div>
            <div class="col-md-4">
              <input type="text" class="form-control" placeholder="Zip Code" required>
            </div>
          </div>
          <div class="clearfix"></div>
          <h4 class="fw-bold mb-3 mt-4">Payment Information</h4>
            <div class="row g-3">
                <!-- Payment Methods -->
                <div class="d-flex gap-3 flex-wrap mb-3">
                <!-- Card options (disabled) -->
                <div class="d-flex gap-2 p-2 border rounded align-items-center opacity-50" style="pointer-events: none;">
                    <img src="https://img.icons8.com/color/48/visa.png" height="30" alt="Visa">
                    <img src="https://img.icons8.com/color/48/mastercard.png" height="30" alt="MasterCard">
                    <img src="https://img.icons8.com/color/48/discover.png" height="30" alt="Discover">
                    <img src="https://img.icons8.com/color/48/amex.png" height="30" alt="Amex">
                </div>

                <!-- COD (Active) -->
                <div class="p-2 border border-success rounded">
                    <img src="images/cash-on-delivery.png" height="40" alt="Cash On Delivery">
                </div>
                </div>

                <!-- Card Payment Form (Disabled) -->
                <div class="col-12">
                <input type="text" class="form-control" placeholder="Card Number" disabled>
                </div>
                <div class="col-md-4">
                <select class="form-select" disabled>
                    <option selected>Month</option>
                    <!-- Add months -->
                </select>
                </div>
                <div class="col-md-4">
                <select class="form-select" disabled>
                    <option selected>Year</option>
                    <!-- Add years -->
                </select>
                </div>
                <div class="col-md-4">
                <input type="text" class="form-control" placeholder="CVV" disabled>
                </div>
            </div><br>
          <button type="submit" class="btn btn-dark">Complete Checkout</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Footer -->
<footer class="footer">
    <div class="container">
      <div class="row gy-4">
        <div class="col-md-4">
          <img src="images/logo.svg" alt="Logo" class="mb-3">
          <p>Provide detailed information about the product, including features, specifications, and benefits.</p>
          <p><i class="bi bi-geo-alt-fill"></i> Apt. 407 943 Bernier Mill, South Clintborough, WA 41222-0367</p>
          <p><i class="bi bi-telephone-fill"></i> (+11) 800-000-1234</p>
          <p><i class="bi bi-envelope-fill"></i> support@trendy-shopping.com</p>
        </div>
        <div class="col-md-4">
          <div class="row">
            <div class="col-6">
              <h5 class="footer-title">Quick Links</h5>
              <ul class="list-unstyled">
                <li><a href="#">About Us</a></li>
                <li><a href="#">Brands</a></li>
                <li><a href="#">Specials</a></li>
                <li><a href="#">Gift Cards</a></li>
                <li><a href="#">Warranty & Services</a></li>
              </ul>
            </div>
            <div class="col-6">
              <h5 class="footer-title">&nbsp;</h5>
              <ul class="list-unstyled">
                <li><a href="#">Terms & Conditions</a></li>
                <li><a href="#">Privacy Policy</a></li>
                <li><a href="#">FAQ’s</a></li>
                <li><a href="#">Trending</a></li>
                <li><a href="#">Customer Support</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <h5 class="footer-title">Join With Us</h5>
          <div class="mb-3">
            <div class="d-flex justify-content-start">
              <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
              <a href="#" class="social-icon"><i class="fab fa-x-twitter"></i></a>
              <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
              <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
              <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
            </div>
          </div>
          <h6>Newsletter</h6>
          <form class="d-flex">
            <input type="email" class="form-control me-2" placeholder="Email address">
            <button type="submit" class="btn btn-subscribe">Subscribe</button>
          </form>
        </div>
      </div>
    </div>
  </footer>
  
  <section class="endFooter text-center bg-dark text-white py-3">
    <div class="container">
      <p class="text-light m-0">Fashion &copy; <span id="year"></span>. All Rights Reserved</p>
    </div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const products = [
      { id: 1, title: "Best Women's Long Skirt", price: 64, originalPrice: 75, discount: "15%", img: "images/w1.png" },
      { id: 2, title: "Men's Winter Jacket", price: 54, discount: null, img: "images/m1.png" },
      { id: 3, title: "Women's Cargo Jacket", price: 70, discount: null, img: "images/w4.png" },
      { id: 4, title: "Official Men's Shirt", price: 68, originalPrice: 85, discount: "20%", img: "images/m2.png" },
      { id: 5, title: "Women’s Casual Skirt", price: 75, originalPrice: 64, discount: "15%", img: "images/w2.png" },
      { id: 6, title: "Men’s Casual Shirt", price: 34, discount: null, img: "images/m3.png" },
      { id: 7, title: "Women’s Hot Dress", price: 55, discount: null, img: "images/w3.png" },
      { id: 8, title: "Men’s Winter T-shirt", price: 40, originalPrice: 50, discount: "20%", img: "images/m4.png" },
      { id: 9, title: "Men-Women Combo", price: 102, originalPrice: 120, discount: "15%", img: "images/men-women-combo.png" },
      { id: 10, title: "Men’s Traditional", price: 44, discount: null, img: "images/men-ethnic1.png" },
      { id: 11, title: "Women’s Traditiona", price: 60, discount: null, img: "images/women-traditional1.png" },
      { id: 12, title: "Men’s Party Wear", price: 92, originalPrice: 115, discount: "20%", img: "images/men-party1.png" }
    ];

    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    let quantities = JSON.parse(localStorage.getItem("cartQuantities")) || {};

    function renderOrderSummary() {
      const container = document.getElementById('orderSummary');
      const totalEl = document.getElementById('grandTotal');
      const productPriceEl = document.getElementById('productsPrice');
      container.innerHTML = '';
      let total = 0;

      cart.forEach(id => {
        const p = products.find(prod => prod.id === id);
        const qty = quantities[id] || 1;
        const itemTotal = qty * p.price;
        total += itemTotal;

        const div = document.createElement('div');
        div.className = "summary-item align-items-center d-flex mb-2";
        div.innerHTML = `
          <img src="${p.img}" alt="${p.title}" class="me-2 product-img">
          <div class="flex-grow-1">
            <div>${p.title}</div>
            <small class="text-muted">Qty: ${qty}</small>
          </div>
          <div><strong>$${itemTotal.toFixed(2)}</strong></div>
        `;
        container.appendChild(div);
      });

      productPriceEl.textContent = `$${total.toFixed(2)}`;
      totalEl.textContent = `$${total.toFixed(2)}`;
    }

    renderOrderSummary();

    function updateNavCounts() {
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const quantities = JSON.parse(localStorage.getItem("cartQuantities")) || {};
    const wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];

    let totalCartItems = 0;
    cart.forEach(id => {
      totalCartItems += quantities[id] || 1;
    });

    document.getElementById("cartCount").textContent = totalCartItems;
    document.getElementById("wishlistCount").textContent = wishlist.length;
  }

  updateNavCounts();
  </script>
  <script>
    document.querySelectorAll('.navbar-nav .nav-link').forEach(link => {
      link.addEventListener('click', () => {
        const navbarToggler = document.querySelector('.navbar-toggler');
        const navbarCollapse = document.querySelector('#navbarContent');
  
        if (window.innerWidth < 992 && navbarCollapse.classList.contains('show')) {
          navbarToggler.click(); // Collapse the navbar
        }
      });
    });
  </script>

  <script>
  document.getElementById("checkoutForm").addEventListener("submit", function (e) {
    e.preventDefault();

    // Validate all required fields
    const inputs = this.querySelectorAll("input[required], select[required]");
    let isValid = true;

    inputs.forEach(input => {
      if (!input.value.trim()) {
        input.classList.add("is-invalid");
        isValid = false;
      } else {
        input.classList.remove("is-invalid");
      }
    });

    if (!isValid) {
      alert("Please fill out all required fields.");
      return;
    }

    // Generate random order ID
    const orderId = "ORD-" + Math.floor(Math.random() * 1000000).toString().padStart(6, '0');

    // Optional: Clear cart
    localStorage.removeItem("cart");
    localStorage.removeItem("cartQuantities");

    // Redirect to thankyou.html with order ID in URL
    window.location.href = `thankyou.html?orderId=${orderId}`;
  });
</script>

<script>
    // Generate random Order ID (e.g., ORD-385294)
    function generateOrderId() {
      return 'ORD-' + Math.floor(100000 + Math.random() * 900000);
    }
  
  
    // Navbar Count Setup
    function updateNavCounts() {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const quantities = JSON.parse(localStorage.getItem("cartQuantities")) || {};
      const wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
  
      let totalCartItems = 0;
      cart.forEach(id => {
        totalCartItems += quantities[id] || 1;
      });
  
      document.getElementById("cartCount").textContent = totalCartItems;
      document.getElementById("wishlistCount").textContent = wishlist.length;
    }
  
    updateNavCounts();
  </script>
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

</body>
</html>
